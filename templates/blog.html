<!DOCTYPE html>
<html lang="en">


<head>
    <link rel="stylesheet" href="/static/blog.css">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>

    <script src="https://kit.fontawesome.com/c04ea0428a.js" crossorigin="anonymous"></script>


</head>

<body>
    <h2 class="text-center">{{topic}} Blog</h2>
    {% for article in articles %}
    <div class="card mb-3 mx-auto" style="max-width: 700px;">
        <div class="row g-0">
            <div class="col-md-4">
                <img src="{{article.image}}" class="img-fluid rounded-start" alt="">
            </div>
            <div class="col-md-8">
                <div class="card-body">
                    <a href="{{url_for('view_article', id=article.id)}}" class="btn btn-link" style="position: relative; text-decoration: none">
                    <h3 class="card-title">{{article.title}}</h3>
                    <h6 class="card-subtitle mb-2 text-muted">{{article.subtitle}}</h6>
                    <p class="card-text">{{article.author}} | {{article.date}} </p>
                    </a>
                    {% if current_user.is_authenticated %}
                        {% if current_user.already_liked(article) %}
                        <i class="fa-solid fa-heart"></i> <span class="likes"> {{num_of_likes}}</span>
                        <div id="like-button"></div>
                        <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>  
                        <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
                        <script src="/static/js/likeButton.js"></script>
                        {% else %}
                        <i class="fa-regular fa-heart"></i> <span class="likes"> {{num_of_likes}}</span>
                        <div id="like-button"></div>
                        <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>  
                        <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
                        <script src="/static/js/likeButton.js"></script>
                        {% endif %}
                    {% else %}
                        <i class="fa-regular fa-heart"></i> <span class="likes"> {{num_of_likes}}</span>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
    

    <br>
    {% endfor %}

    
</body>

</html>